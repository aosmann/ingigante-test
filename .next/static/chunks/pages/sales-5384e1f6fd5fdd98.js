(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5173],{33129:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sales",function(){return n(74275)}])},51895:function(e,t,n){"use strict";n.d(t,{A:function(){return r},v:function(){return a}});var l=n(35953);async function a(e){let{category:t=null,minBedrooms:n=null,minBathrooms:a=null,sortByPrice:r=null,sortDescending:s=null,searchQuery:c="",priceMin:i=null,priceMax:o=null,location:u=null}=e,d='*[_type == "properties"',m={};c&&(d+=" && title match $searchTerm",m.searchTerm=c),t&&(d+=" && propertyType->typeName == $categoryID",m.categoryID=t),i&&(d+=" && sellPrice >= $priceMin",m.priceMin=i),o&&(d+=" && sellPrice <= $priceMax",m.priceMax=o),u&&(d+=" && location->locationName == $location",m.location=u),d+="]",r&&(d+="| order(sellPrice ".concat("sellPrice-desc"===s?"desc":"asc",")")),d+=" {\n      ...,\n      location->,\n      propertyType->\n    }";let p=await l.Lp.fetch(d,m);return p}async function r(e){let{category:t=null,minBedrooms:n=null,minBathrooms:a=null,sortByPrice:r=null,sortDescending:s=null,searchQuery:c="",priceMin:i=null,priceMax:o=null,location:u=null,feature:d=null,priceCategory:m=null}=e,p='*[_type == "propertiesRent"',x={};c&&(p+=" && title match $searchTerm",x.searchTerm=c),t&&(p+=" && propertyType->typeName == $categoryID",x.categoryID=t),i&&(p+=" && price >= $priceMin",x.priceMin=i),o&&(p+=" && price <= $priceMax",x.priceMax=o),m&&(p+=" && category == $priceCategory",x.priceCategory=m),u&&(p+=" && location->locationName == $location",x.location=u),d&&(p+=" && features->featureName == $feature",x.feature=d),p+="]",r&&(p+="| order(price ".concat("price-desc"===s?"desc":"asc",")")),p+=" {\n      ...,\n      location->,\n      propertyType->,\n      features->\n    }";let h=await l.Lp.fetch(p,x);return console.log(p),console.log(h),h}},35953:function(e,t,n){"use strict";n.d(t,{Lp:function(){return o},rp:function(){return u}});var l=n(21777),a=n(34155);let r=a.env.NEXT_PUBLIC_SANITY_PROJECT_ID,s=a.env.NEXT_PUBLIC_SANITY_DATASET,c=a.env.NEXT_PUBLIC_SANITY_API_VERSION,i=a.env.NEXT_PUBLIC_SANITY_TOKEN,o=(0,l.e)({projectId:r,dataset:s,apiVersion:c,useCdn:!1}),u=(0,l.e)({projectId:r,dataset:s,apiVersion:c,token:i,useCdn:!1})},56253:function(e,t,n){"use strict";var l=n(35953),a=n(6803),r=n.n(a);let s=r()(l.Lp);t.Z=function(e){return s.image(e)}},74275:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return f}});var l=n(85893),a=n(67294),r=n(25675),s=n.n(r),c=n(86893),i=n(56253),o=n(41664),u=n.n(o),d=n(9008),m=n.n(d),p=n(51895),x=n(11163),h=n(17598),f=!0;t.default=function(e){let{propertiesList:t,types:n,locations:r}=e,o=(0,a.useRef)(null),d=r.map(e=>({value:e.locationName,label:e.locationName,instanceId:(0,a.useId)()})),f=n.map(e=>({value:e.typeName,label:e.typeName,instanceId:(0,a.useId)()})),g=[{value:"sort",label:"Sort",instanceId:(0,a.useId)()},{value:"sellPrice",label:"Price (low to high)",instanceId:(0,a.useId)()},{value:"sellPrice-desc",label:"Price (high to low)",instanceId:(0,a.useId)()}],y=(0,x.useRouter)(),[w,N]=(0,a.useState)(t),[j,v]=(0,a.useState)(""),[b,_]=(0,a.useState)(y.query?y.query.cat:null),[I,S]=(0,a.useState)(null),[T,P]=(0,a.useState)(null),[L,C]=(0,a.useState)(null),[E,$]=(0,a.useState)(null),[A,M]=(0,a.useState)(null),[D,k]=(0,a.useState)(null),[R,F]=(0,a.useState)(y.query?y.query.loc:null);return(0,a.useEffect)(()=>{(async function(){let e=await (0,p.v)({category:b,minBedrooms:I,minBathrooms:T,sortByPrice:L,sortDescending:E,searchQuery:j,priceMin:A,priceMax:D,location:R});e.sort((e,t)=>{let n=new Date(e._updatedAt||e._createdAt),l=new Date(t._updatedAt||t._createdAt);return l-n}),N(e)})()},[b,I,T,L,E,j,A,D,R]),(0,l.jsxs)("div",{className:"min-h-screen flex flex-col items-center",children:[(0,l.jsxs)(m(),{children:[(0,l.jsx)("title",{children:"Sales | Ingigante"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,l.jsx)("script",{async:!0,src:"https://www.googletagmanager.com/gtag/js?id=AW-11184375903"}),(0,l.jsx)("script",{dangerouslySetInnerHTML:{__html:"\n                window.dataLayer = window.dataLayer || [];\n                function gtag(){dataLayer.push(arguments);}\n                gtag('js', new Date());\n                gtag('config', 'AW-11184375903');\n              "}}),(0,l.jsx)("script",{async:!0,src:"https://www.googletagmanager.com/gtag/js?id=G-TWF5MYQK4E"}),(0,l.jsx)("script",{dangerouslySetInnerHTML:{__html:"\n              window.dataLayer = window.dataLayer || [];\n              function gtag(){dataLayer.push(arguments);}\n              gtag('js', new Date());\n              gtag('config', 'G-TWF5MYQK4E');\n            "}})]}),(0,l.jsx)("div",{className:"bg-[#F4F4F4] w-full flex justify-center px-4 py-14",children:(0,l.jsxs)("div",{className:"max-w-7xl w-full px-4",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center text-secondary",children:[(0,l.jsx)("h1",{className:"text-[35px] text-center font-bold",children:"Search for Properties"}),(0,l.jsx)("p",{children:"Browse our exclusive listings"})]}),(0,l.jsxs)("div",{className:"space-y-4 mt-4 md:flex md:flex-row md:items-center md:space-y-0 md:space-x-5",children:[(0,l.jsx)("input",{type:"text",className:"bg-white border border-gray-300 text-gray-900 text-sm rounded-md block w-full p-2.5",placeholder:"Enter a keyword",ref:o}),(0,l.jsxs)("button",{className:"bg-btn text-white border-0 flex items-center justify-center py-2.5 rounded-md md:px-6 w-full md:w-1/6",onClick:function(e){v(o.current.value)},children:[(0,l.jsx)("span",{children:(0,l.jsx)(c.jRj,{className:"mr-4"})}),"Search"]})]}),(0,l.jsx)("p",{className:"text-center mt-4 mb-4 opacity-50",children:"Filter Settings"}),(0,l.jsxs)("div",{className:"md:flex md:flex-row md:space-x-4",children:[(0,l.jsx)("div",{className:"relative mb-6 md:mb-0 md:w-1/4",children:(0,l.jsx)(h.ZP,{defaultValue:b,onChange:function(e){_(e.value)},options:f,placeholder:"Type",isSearchable:!1})}),(0,l.jsx)("div",{className:"relative mb-6 md:mb-0 md:w-1/4",children:(0,l.jsx)(h.ZP,{defaultValue:R,onChange:function(e){F(e.value)},options:d,placeholder:"Location",isSearchable:!1})}),(0,l.jsxs)("div",{className:"relative mb-6 md:mb-0 md:w-1/4",children:[(0,l.jsx)("p",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none opacity-40",children:"$"}),(0,l.jsx)("input",{type:"number",placeholder:"Price min.",className:"w-full pl-6 rounded-md border border-gray-300",onChange:function(e){M(parseInt(e.target.value)||null)}})]}),(0,l.jsxs)("div",{className:"relative mb-6 md:mb-0 md:w-1/4",children:[(0,l.jsx)("p",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none opacity-40",children:"$"}),(0,l.jsx)("input",{type:"number",placeholder:"Price max.",className:"w-full pl-6 rounded-md border border-gray-300",onChange:function(e){k(parseInt(e.target.value)||null)}})]}),(0,l.jsx)("div",{className:"relative mb-6 md:mb-0 md:w-1/4",children:(0,l.jsx)(h.ZP,{onChange:function(e){let t=e.value;C(t),$(t)},options:g,placeholder:"Sort",isSearchable:!1})})]})]})}),(0,l.jsx)("div",{className:"max-w-7xl w-full mt-14",children:(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-8 px-4",children:w.length>0?w.map(e=>(0,l.jsx)("div",{className:"relative max-w-sm rounded overflow-hidden shadow-md mx-auto h-full flex flex-col",children:(0,l.jsxs)(u(),{href:"/property/".concat(e.slug.current),children:[(0,l.jsx)(s(),{src:"".concat((0,i.Z)(e.mainImage).url(),"?w=390&h=290&fit=crop&crop=center"),alt:"card",className:"object-cover lg:object-center",width:390,height:290,priority:!0}),(0,l.jsx)("div",{className:"px-6 py-4",children:(0,l.jsx)("h1",{className:"font-bold text-[20px]",children:e.title})}),(0,l.jsxs)("div",{className:"px-6 py-4 text-[17px] mt-auto",children:[(0,l.jsxs)("p",{className:"text-secondary",children:["$",e.sellPrice.toLocaleString()]}),(0,l.jsx)("p",{children:e.location.locationName})]})]},e._id)},e._id)):(0,l.jsx)("h1",{children:"No Result!"})})})]})}},11163:function(e,t,n){e.exports=n(80880)}},function(e){e.O(0,[1777,1182,6251,6863,9774,2888,179],function(){return e(e.s=33129)}),_N_E=e.O()}]);